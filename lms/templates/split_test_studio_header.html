<%! from django.utils.translation import ugettext as _ %>
<%! from xmodule.split_test_module import ValidationMessageType %>

<%
split_test = context.get('split_test')
(message, message_type) = split_test.descriptor.validation_message()
if message_type == ValidationMessageType.warning:
    # Translators: This message will be added to the front of messages of type warning,
    # e.g. "Warning: this component has not been configured yet".
    message_prefix = _(u"Warning:")
elif message_type == ValidationMessageType.error:
    # Translators: This message will be added to the front of messages of type error,
    # e.g. "Error: required field is missing".
    message_prefix = _(u"Error:")
else:
    message_prefix = None

is_configured = split_test.user_partition_id >= 0
%>

% if message or not is_configured:
    % if is_root and not is_configured:
        <div class="no-container-content">
    % else:
        <div class="xblock-message-area">
        <div class="xblock-message ${message_type}">
    % endif

    % if not is_configured:
        <p>${_("This content experiment content needs to have a group configuration.")}
            <a href="#" class="button edit-button action-button">
                <i class="icon-pencil"></i>
                <span class="action-button-text">${_("Select a Group Configuration")}</span>
            </a>
        </p>
    % else:
        <p>
            % if message_type == 'warning':
                <i class='icon-warning-sign'></i>
            % elif message_type == 'error':
                <i class='icon-exclamation-sign'></i>
            % endif
        <span class='message-text'>
            % if message_prefix:
                <span class='sr'>${message_prefix}</span>
            % endif
            ${message}
        </span>
        </p>
    % endif

    % if is_root and not is_configured:
        </div>
    % else:
        </div>
        </div>
    % endif
% endif
